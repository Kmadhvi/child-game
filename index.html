<!DOCTYPE html>
<html>
<head>
  <title>Smart Kids Learning Game</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <style>
    body {
      margin: 0;
      font-family: 'Comic Sans MS', cursive;
      background: linear-gradient(to bottom, #ffecd2, #fcb69f);
      text-align: center;
    }

    h1 { color: #ff4081; }

    .screen { padding: 20px; }

    button {
      padding: 12px 20px;
      margin: 10px;
      border-radius: 20px;
      border: none;
      font-size: 18px;
      cursor: pointer;
      background: #ff4081;
      color: white;
    }

    .game { display: none; }

    .options {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 15px;
    }

    .option {
      background: white;
      padding: 20px;
      border-radius: 20px;
      font-size: 24px;
      box-shadow: 0 4px #ccc;
    }

    #score { font-size: 18px; }

    #achievement {
      display: none;
      color: purple;
      font-size: 22px;
    }

    canvas {
      position: fixed;
      top: 0;
      left: 0;
      pointer-events: none;
    }
  </style>
</head>

<body>

<!-- MENU -->
<div class="screen menu">
  <h1>ğŸ® Smart Learning</h1>

  <h3>Select Mode</h3>
  <button onclick="setMode('alphabet')">ğŸ”¤ ABC</button>
  <button onclick="setMode('number')">ğŸ”¢ Numbers</button>
  <button onclick="setMode('words')">ğŸ“– Words</button>

  <h3>Select Difficulty</h3>
  <button onclick="setLevel('easy')">ğŸŸ¢ Easy</button>
  <button onclick="setLevel('medium')">ğŸŸ¡ Medium</button>
  <button onclick="setLevel('hard')">ğŸ”´ Hard</button>

  <br><br>
  <button onclick="startGame()">â–¶ Start</button>
</div>

<!-- GAME -->
<div class="screen game">
  <button onclick="goBack()">â¬… Back</button>
  <div id="score">â­ 0</div>
  <h2 id="question"></h2>
  <div id="achievement">ğŸ† Champion!</div>
  <div class="options" id="options"></div>
  <p id="result"></p>
</div>

<canvas id="confetti"></canvas>

<script>
let mode = "", level = "", score = 0, answer = "", unlocked = false;

// DATA
const wordsEasy = ["CAT","DOG","SUN","BAT"];
const wordsHard = ["APPLE","TIGER","HOUSE","MANGO"];

function speak(text){
  let msg = new SpeechSynthesisUtterance(text);
  speechSynthesis.cancel();
  speechSynthesis.speak(msg);
}

function setMode(m){ mode = m; }
function setLevel(l){ level = l; }

function startGame(){
  if(!mode || !level){
    alert("Select mode and level");
    return;
  }

  score = 0;
  unlocked = false;

  document.querySelector(".menu").style.display = "none";
  document.querySelector(".game").style.display = "block";
  document.getElementById("achievement").style.display = "none";

  loadQ();
}

function goBack(){
  document.querySelector(".menu").style.display = "block";
  document.querySelector(".game").style.display = "none";
}

// DATA BASED ON LEVEL
function getData(){
  if(mode === "alphabet") return "ABCDEFGHIJKLMNOPQRSTUVWXYZ".split("");

  if(mode === "number"){
    return level === "easy"
      ? Array.from({length:10},(_,i)=>(i+1).toString())
      : Array.from({length:20},(_,i)=>(i+1).toString());
  }

  if(mode === "words"){
    return level === "easy" ? wordsEasy : wordsHard;
  }
}

function random(arr){
  return arr[Math.floor(Math.random()*arr.length)];
}

function loadQ(){
  let data = getData();
  answer = random(data);

  document.getElementById("question").innerText = "ğŸ‘‰ Tap " + answer;
  speak(answer);

  let options = [...data].sort(()=>0.5-Math.random()).slice(0,4);
  if(!options.includes(answer)) options[0] = answer;

  document.getElementById("options").innerHTML =
    options.map(o=>`<div class="option" onclick="check('${o}')">${o}</div>`).join("");

  document.getElementById("result").innerText = "";
}

function check(val){
  let result = document.getElementById("result");

  if(val === answer){
    score++;
    result.innerText = "ğŸ‰ Correct!";
    document.getElementById("score").innerText = "â­ " + score;

    if(score >= 15 && !unlocked){
      unlocked = true;
      document.getElementById("achievement").style.display = "block";
      confetti();
      speak("Great job! You are a champion!");
    }

    setTimeout(loadQ, 800);

  } else {
    result.innerText = "âŒ Try again!";
  }
}

// CONFETTI
function confetti(){
  let canvas = document.getElementById("confetti");
  let ctx = canvas.getContext("2d");

  canvas.width = window.innerWidth;
  canvas.height = window.innerHeight;

  let pieces = Array.from({length:100},()=>({
    x: Math.random()*canvas.width,
    y: Math.random()*canvas.height,
    r: Math.random()*6
  }));

  let interval = setInterval(()=>{
    ctx.clearRect(0,0,canvas.width,canvas.height);
    pieces.forEach(p=>{
      ctx.beginPath();
      ctx.arc(p.x,p.y,p.r,0,Math.PI*2);
      ctx.fill();
      p.y += 2;
      if(p.y>canvas.height) p.y=0;
    });
  },30);

  setTimeout(()=>clearInterval(interval),3000);
}
</script>

</body>
</html>
